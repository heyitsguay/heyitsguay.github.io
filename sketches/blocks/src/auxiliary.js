// -------------------------------------------------------------------------------------------------------------------//
function constrain(x, min, max) {
    return Math.min(max, Math.max(min, x));
}

// -------------------------------------------------------------------------------------------------------------------//
function sign(x) {
    return (x > 0) - (x < 0);
}

// -------------------------------------------------------------------------------------------------------------------//
function updateTime() {
    timeLast = timeNow;
    timeNow = new Date().getTime();
    dtime = timeNow - time0;
}

var fps = 0;
var fpsFilter = 30;
// -------------------------------------------------------------------------------------------------------------------//
function updateFPS() {
    var elapsed = timeNow - timeLast;
    if(elapsed > 0) {
        fps += (1000 / elapsed - fps) / fpsFilter;
    }
}